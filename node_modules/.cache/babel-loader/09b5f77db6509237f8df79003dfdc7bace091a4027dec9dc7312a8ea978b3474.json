{"ast":null,"code":"import Error404 from \"@/views/commonViews/errorViews/Error404.vue\";\nexport default {\n  name: \"TravelGuide\",\n  components: {\n    Error404\n  },\n  data() {\n    return {\n      dialogVisible: false,\n      goOutMode: 'car',\n      location: '中国',\n      keyword: '',\n      map: null,\n      baiduMap: {\n        // 地址信息\n        BMap: null,\n        map: null,\n        address: null,\n        center: null,\n        //地图展示级别\n        zoom: 15,\n        polylinePath: []\n      },\n      goOutModeOptions: [{\n        label: '热门',\n        options: [{\n          value: 'car',\n          label: '自驾游'\n        }, {\n          value: 'bus',\n          label: '公交车'\n        }]\n      }, {\n        label: '其他出行方式',\n        options: [{\n          value: 'walk',\n          label: '步行'\n        }, {\n          value: 'motorcycle',\n          label: '摩托车'\n        }, {\n          value: 'bicycle',\n          label: '骑行'\n        }]\n      }],\n      driving: {\n        drivingPolicy: 'BMAP_DRIVING_POLICY_DEFAULT',\n        dialogDrivingPolicy: 'BMAP_DRIVING_POLICY_DEFAULT',\n        drivingPolicyOptions: [{\n          value: 'BMAP_DRIVING_POLICY_DEFAULT',\n          label: '默认'\n        }, {\n          value: 'BMAP_DRIVING_POLICY_FIRST_HIGHWAYS',\n          label: '优先高速'\n        }, {\n          value: 'BMAP_DRIVING_POLICY_AVOID_HIGHWAYS',\n          label: '避开高速'\n        }, {\n          value: 'BMAP_DRIVING_POLICY_AVOID_CONGESTION',\n          label: '避开拥堵'\n        }]\n      },\n      transit: {\n        transitPolicy: 'BMAP_TRANSIT_POLICY_RECOMMEND',\n        transitPolicyOptions: [{\n          value: 'BMAP_TRANSIT_POLICY_RECOMMEND',\n          label: '推荐方案'\n        }, {\n          value: 'BMAP_TRANSIT_POLICY_LEAST_TIME',\n          label: '最少时间'\n        }, {\n          value: 'BMAP_TRANSIT_POLICY_LEAST_TRANSFER',\n          label: '最少换乘'\n        }, {\n          value: 'BMAP_TRANSIT_POLICY_LEAST_WALKING',\n          label: '最少步行'\n        }, {\n          value: 'BMAP_TRANSIT_POLICY_AVOID_SUBWAYS',\n          label: '不乘地铁'\n        }, {\n          value: 'BMAP_TRANSIT_POLICY_FIRST_SUBWAYS',\n          label: '优先地铁'\n        }]\n      }\n    };\n  },\n  created() {\n    console.log(\"router==>\", this.$route);\n  },\n  mounted() {},\n  unmounted() {},\n  methods: {\n    /**\r\n     * 百度地图\r\n     * @param BMap\r\n     * @param map\r\n     */\n    handler({\n      BMap,\n      map\n    }) {\n      // map.lng = this.$route.params.position.positionList[0].location[0]\n      // map.lat = this.$route.params.position.positionList[0].location[1]\n      // console.log(\"map_handler\")\n      // let _this = this\n      this.baiduMap.BMap = BMap;\n      this.baiduMap.map = map;\n      this.baiduMap.center = this.$route.params.position.positionList[0].location;\n      // this.baiduMap.center.lng = this.$route.params.position.positionList[0].location[0];\n      // this.baiduMap.center.lat = this.$route.params.position.positionList[0].location[0];\n      // this.zoom = this.zoom;\n    }\n  }\n};","map":{"version":3,"names":["Error404","name","components","data","dialogVisible","goOutMode","location","keyword","map","baiduMap","BMap","address","center","zoom","polylinePath","goOutModeOptions","label","options","value","driving","drivingPolicy","dialogDrivingPolicy","drivingPolicyOptions","transit","transitPolicy","transitPolicyOptions","created","console","log","$route","mounted","unmounted","methods","handler","params","position","positionList"],"sources":["src/views/userViews/TourismIntroduction/TravelGuide.vue"],"sourcesContent":["<style scoped>\r\n#container, .baiduMap, #map {\r\n  padding: 0;\r\n  margin: 0;\r\n  width: 100%;\r\n  height: 800px;\r\n}\r\n\r\n.text {\r\n  font-size: 18px;\r\n}\r\n\r\n.back {\r\n  margin: 20px;\r\n}\r\n\r\n.navtrans-view a {\r\n  display: none;\r\n}\r\n\r\n.navtrans-view.expand a {\r\n  display: none;\r\n}\r\n\r\n.go-out-mode {\r\n  width: 100%;\r\n  height: 120px;\r\n  margin: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.go-out-mode div:nth-child(1) {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-evenly;\r\n}\r\n\r\n.go-out-mode div:nth-child(2) {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-evenly;\r\n  margin-left: 20px;\r\n}\r\n\r\n.custom-card {\r\n  border-radius: 10px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  padding: 20px;\r\n}\r\n\r\n.custom-card p {\r\n  font-size: 16px;\r\n  line-height: 1.6;\r\n}\r\n\r\n.custom-card p b {\r\n  color: #007bff;\r\n}\r\n\r\nb {\r\n  color: #007bff;\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div class=\"outer-box\">\r\n    <!--    <div id=\"map\" ref=\"map\"></div>-->\r\n    <el-card class=\"custom-card\">\r\n      <p v-html=\"$route.params.content\" class=\"content\">\r\n\r\n      </p>\r\n      <!--      <h4>关键词：</h4>-->\r\n      <!--      <el-input v-model=\"keyword\" placeholder=\"关键词：\"></el-input>-->\r\n      <!--      <h4>地区：</h4>-->\r\n      <!--      <el-input v-model=\"location\" placeholder=\"地区：\"></el-input>-->\r\n    </el-card>\r\n    <div class=\"go-out-mode\">\r\n      <div>\r\n        <h4>您可以选择您的出行方式</h4>\r\n        <el-select v-model=\"goOutMode\" filterable placeholder=\"请选择\">\r\n          <el-option-group\r\n              v-for=\"group in goOutModeOptions\"\r\n              :key=\"group.label\"\r\n              :label=\"group.label\">\r\n            <el-option\r\n                v-for=\"item in group.options\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n              <span style=\"float: left\">{{ item.label }}</span>\r\n              <span style=\"float: right; color: #8492a6; font-size: 13px\">{{ item.value }}</span>\r\n            </el-option>\r\n          </el-option-group>\r\n        </el-select>\r\n      </div>\r\n      <div>\r\n        <h4>\r\n          您还可以选择您的出行策略\r\n        </h4>\r\n        <el-button @click=\"dialogVisible = true\">\r\n          我要选择\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n    <div class=\"baiduMap\">\r\n      <baidu-map\r\n          :center=\"baiduMap.center\"\r\n          :zoom=\"baiduMap.zoom\"\r\n          :scroll-wheel-zoom=\"true\"\r\n          style=\"width: 100%; height: 100%\"\r\n          @ready=\"handler\"\r\n      >\r\n        <!--          @click=\"getClickInfo\"-->\r\n        <!--          @moving=\"syncCenterAndZoom\"-->\r\n        <!--          @moveend=\"syncCenterAndZoom\"-->\r\n        <!--          @zoomend=\"syncCenterAndZoom\"-->\r\n\r\n        <!--        驾车行驶路线-->\r\n        <!--            startCity=\"北京\"-->\r\n        <!--            endCity=\"南京\"-->\r\n        <!--            :waypoints=\"['呼和浩特', {lng: 112.53, lat: 37.87}, '陕西兵马俑']\"-->\r\n        <bm-driving v-if=\"this.goOutMode === 'car'\"\r\n                    :start=\"$route.params.position.positionList[0].location\"\r\n                    :end=\"$route.params.position.positionList[$route.params.position.positionList.length - 1].location\"\r\n                    :select-first-result=\"true\"\r\n                    location=\"湖南\"\r\n                    :waypoints=\"$route.params.position.positionList.slice(0,10).map(item => {\r\n                      return item.location\r\n                    })\"\r\n                    :policy=\"driving.drivingPolicy\"\r\n                    :auto-viewport=\"true\"\r\n        ></bm-driving>\r\n        <Error404 v-else-if=\"goOutMode === ''\"></Error404>\r\n        <!--                步行路线推荐-->\r\n        <bm-walking v-else-if=\"goOutMode === 'walk'\" :start=\"$route.params.position.positionList[0].location\"\r\n                    :end=\"$route.params.position.positionList[$route.params.position.positionList.length-1].location\"\r\n                    :select-first-result=\"true\"\r\n                    :auto-viewport=\"true\" location=\"湖南\"></bm-walking>\r\n        <!--                公交路线推荐-->\r\n        <bm-transit v-else-if=\"goOutMode === 'bus'\" :start=\"$route.params.position.positionList[0].address\"\r\n                    :end=\"$route.params.position.positionList[$route.params.position.positionList.length-1].address\"\r\n                    :auto-viewport=\"true\" location=\"湖南\"\r\n                    :policy=\"transit.transitPolicy\"\r\n                    :select-first-result=\"true\"\r\n        ></bm-transit>\r\n        <!--        <bm-transit v-else-if=\"goOutMode === 'bus'\" start=\"百度大厦\" end=\"北京邮电大学西门\" :auto-viewport=\"true\"-->\r\n        <!--                    location=\"中国\"></bm-transit>-->\r\n        <el-dialog\r\n            title=\"提示\"\r\n            :visible.sync=\"dialogVisible\"\r\n            width=\"30%\">\r\n          <h2>请选择该出行方式下的出行策略: {{ goOutMode }}</h2>\r\n          <!--                      :before-close=\"handleClose\"-->\r\n          <el-select v-if=\"goOutMode === 'bus'\" v-model=\"transit.transitPolicy\" placeholder=\"请选择\">\r\n            <el-option\r\n                v-for=\"item in transit.transitPolicyOptions\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n          <el-select v-else-if=\"goOutMode === 'car'\" v-model=\"driving.dialogDrivingPolicy\" placeholder=\"请选择\">\r\n            <el-option\r\n                v-for=\"item in driving.drivingPolicyOptions\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n          <Error404 v-else></Error404>\r\n\r\n          <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"dialogVisible = false;\r\n              driving.drivingPolicy = driving.dialogDrivingPolicy\r\n            \">确 定</el-button>\r\n          </span>\r\n        </el-dialog>\r\n        <!--        <bm-local-search :keyword=\"keyword\" :auto-viewport=\"true\" :location=\"location\"></bm-local-search>-->\r\n        <bm-polyline :path=\"$route.params.position.positionList.map(poi => {\r\n          return poi.location\r\n        })\" stroke-color=\"blue\" :stroke-opacity=\"0.5\"\r\n                     :stroke-weight=\"2\"></bm-polyline>\r\n        <bm-marker v-for=\"(pathItem,index) in this.$route.params.position.positionList\" :position=\"pathItem.location\"\r\n                   :key=\"index\"\r\n                   animation=\"BMAP_ANIMATION_BOUNCE\"\r\n        >\r\n          <bm-label :content=\"pathItem.name\" :labelStyle=\"{color: 'red', fontSize : '14px'}\"\r\n                    :offset=\"{width: -35, height: 30}\"/>\r\n        </bm-marker>\r\n      </baidu-map>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Error404 from \"@/views/commonViews/errorViews/Error404.vue\";\r\n\r\nexport default {\r\n  name: \"TravelGuide\",\r\n  components: {Error404},\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n      goOutMode: 'car',\r\n      location: '中国',\r\n      keyword: '',\r\n      map: null,\r\n      baiduMap: {\r\n        // 地址信息\r\n        BMap: null,\r\n        map: null,\r\n        address: null,\r\n        center: null,\r\n        //地图展示级别\r\n        zoom: 15,\r\n        polylinePath: []\r\n      },\r\n      goOutModeOptions: [{\r\n        label: '热门',\r\n        options: [{\r\n          value: 'car',\r\n          label: '自驾游'\r\n        }, {\r\n          value: 'bus',\r\n          label: '公交车'\r\n        },]\r\n      }, {\r\n        label: '其他出行方式',\r\n        options: [{\r\n          value: 'walk',\r\n          label: '步行'\r\n        }, {\r\n          value: 'motorcycle',\r\n          label: '摩托车'\r\n        }, {\r\n          value: 'bicycle',\r\n          label: '骑行'\r\n        }]\r\n      }],\r\n      driving: {\r\n        drivingPolicy: 'BMAP_DRIVING_POLICY_DEFAULT',\r\n        dialogDrivingPolicy: 'BMAP_DRIVING_POLICY_DEFAULT',\r\n        drivingPolicyOptions: [\r\n          {\r\n            value: 'BMAP_DRIVING_POLICY_DEFAULT',\r\n            label: '默认'\r\n          },\r\n          {\r\n            value: 'BMAP_DRIVING_POLICY_FIRST_HIGHWAYS',\r\n            label: '优先高速'\r\n          },\r\n          {\r\n            value: 'BMAP_DRIVING_POLICY_AVOID_HIGHWAYS',\r\n            label: '避开高速'\r\n          },\r\n          {\r\n            value: 'BMAP_DRIVING_POLICY_AVOID_CONGESTION',\r\n            label: '避开拥堵'\r\n          }\r\n        ],\r\n\r\n      },\r\n      transit: {\r\n        transitPolicy: 'BMAP_TRANSIT_POLICY_RECOMMEND',\r\n        transitPolicyOptions: [\r\n          {\r\n            value: 'BMAP_TRANSIT_POLICY_RECOMMEND',\r\n            label: '推荐方案'\r\n          },\r\n          {\r\n            value: 'BMAP_TRANSIT_POLICY_LEAST_TIME',\r\n            label: '最少时间'\r\n          },\r\n          {\r\n            value: 'BMAP_TRANSIT_POLICY_LEAST_TRANSFER',\r\n            label: '最少换乘'\r\n          },\r\n          {\r\n            value: 'BMAP_TRANSIT_POLICY_LEAST_WALKING',\r\n            label: '最少步行'\r\n          },\r\n          {\r\n            value: 'BMAP_TRANSIT_POLICY_AVOID_SUBWAYS',\r\n            label: '不乘地铁'\r\n          },\r\n          {\r\n            value: 'BMAP_TRANSIT_POLICY_FIRST_SUBWAYS',\r\n            label: '优先地铁'\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    console.log(\"router==>\", this.$route)\r\n  },\r\n  mounted() {\r\n\r\n  },\r\n  unmounted() {\r\n\r\n  },\r\n  methods: {\r\n    /**\r\n     * 百度地图\r\n     * @param BMap\r\n     * @param map\r\n     */\r\n    handler({BMap, map}) {\r\n      // map.lng = this.$route.params.position.positionList[0].location[0]\r\n      // map.lat = this.$route.params.position.positionList[0].location[1]\r\n      // console.log(\"map_handler\")\r\n      // let _this = this\r\n      this.baiduMap.BMap = BMap\r\n      this.baiduMap.map = map\r\n      this.baiduMap.center = this.$route.params.position.positionList[0].location;\r\n      // this.baiduMap.center.lng = this.$route.params.position.positionList[0].location[0];\r\n      // this.baiduMap.center.lat = this.$route.params.position.positionList[0].location[0];\r\n      // this.zoom = this.zoom;\r\n    },\r\n  }\r\n}\r\n</script>\r\n"],"mappings":"AAqMA,OAAAA,QAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IAAAF;EAAA;EACAG,KAAA;IACA;MACAC,aAAA;MACAC,SAAA;MACAC,QAAA;MACAC,OAAA;MACAC,GAAA;MACAC,QAAA;QACA;QACAC,IAAA;QACAF,GAAA;QACAG,OAAA;QACAC,MAAA;QACA;QACAC,IAAA;QACAC,YAAA;MACA;MACAC,gBAAA;QACAC,KAAA;QACAC,OAAA;UACAC,KAAA;UACAF,KAAA;QACA;UACAE,KAAA;UACAF,KAAA;QACA;MACA;QACAA,KAAA;QACAC,OAAA;UACAC,KAAA;UACAF,KAAA;QACA;UACAE,KAAA;UACAF,KAAA;QACA;UACAE,KAAA;UACAF,KAAA;QACA;MACA;MACAG,OAAA;QACAC,aAAA;QACAC,mBAAA;QACAC,oBAAA,GACA;UACAJ,KAAA;UACAF,KAAA;QACA,GACA;UACAE,KAAA;UACAF,KAAA;QACA,GACA;UACAE,KAAA;UACAF,KAAA;QACA,GACA;UACAE,KAAA;UACAF,KAAA;QACA;MAGA;MACAO,OAAA;QACAC,aAAA;QACAC,oBAAA,GACA;UACAP,KAAA;UACAF,KAAA;QACA,GACA;UACAE,KAAA;UACAF,KAAA;QACA,GACA;UACAE,KAAA;UACAF,KAAA;QACA,GACA;UACAE,KAAA;UACAF,KAAA;QACA,GACA;UACAE,KAAA;UACAF,KAAA;QACA,GACA;UACAE,KAAA;UACAF,KAAA;QACA;MAEA;IACA;EACA;EACAU,QAAA;IACAC,OAAA,CAAAC,GAAA,mBAAAC,MAAA;EACA;EACAC,QAAA,GAEA;EACAC,UAAA,GAEA;EACAC,OAAA;IACA;AACA;AACA;AACA;AACA;IACAC,QAAA;MAAAvB,IAAA;MAAAF;IAAA;MACA;MACA;MACA;MACA;MACA,KAAAC,QAAA,CAAAC,IAAA,GAAAA,IAAA;MACA,KAAAD,QAAA,CAAAD,GAAA,GAAAA,GAAA;MACA,KAAAC,QAAA,CAAAG,MAAA,QAAAiB,MAAA,CAAAK,MAAA,CAAAC,QAAA,CAAAC,YAAA,IAAA9B,QAAA;MACA;MACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}