{"ast":null,"code":"import Vue from 'vue';\nimport App from '@/App.vue';\nimport router from \"@/router\";\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport '@/assets/css/global.css';\nimport '@/assets/css/font_class.css';\nimport request from '@/utils/request';\nimport store from '@/store';\nimport '@/views/userViews/TourismIntroduction/js/mapUsePlugins.js';\nimport BaiduMap from 'vue-baidu-map';\nVue.prototype.request = request;\nVue.config.productionTip = false;\nVue.use(ElementUI);\n// Vue.use(ElementUI, {size: \"mini\"})\n\n//引入icon库\nimport '@/assets/icon/iconfont.css';\nVue.use(BaiduMap, {\n  // ak 是在百度地图开发者平台申请的密钥 详见 http://lbsyun.baidu.com/apiconsole/key */\n  ak: 'WFazjQE0iXFZR802XUZaYIu0Dp9yXl67'\n});\nVue.prototype.request = request;\nVue.config.productionTip = false;\nVue.use(ElementUI);\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app');\n\n// 保持页面在顶部\nrouter.beforeEach((to, from, next) => {\n  // 检查当前路由是否是文章页面\n  if (to.path.startsWith('/user/postPage/')) {\n    //滚动到顶部\n    window.scrollTo(0, 0);\n  }\n  next();\n});\n\n//先写页面\n/*router.beforeEach((to, from, next) => {\n    //登录注册放行\n    // console.log(to.path)\n    if (to.path.indexOf(\"Login\") !== -1 || to.path.indexOf(\"Register\") !== -1) {\n        //不再执行后面语句\n        return next()\n    }\n    //检查登录状态\n    const account = localStorage.getItem(\"accountData\") && localStorage.getItem(\"accountData\") != \"\" ? JSON.parse(localStorage.getItem(\"accountData\")) : null\n    //查看是否有token\n    if (!account || account.token == \"\") {\n        ElementUI.Message({\n            message: '请先登录',\n            type: 'error',\n        });\n        //如果account为null，跳转用户登录页面\n        if (!account) {\n            router.push(\"/userLogin\").then()\n        } else {\n            if (account.identity === \"admin\") {\n                router.push(\"/adminLogin\").then()\n            } else if (account.identity === \"user\") {\n                router.push(\"/userLogin\").then()\n            }\n        }\n    } else {\n        //已登录，放行\n        next();\n        //当从可视化到其他不是可视化的页面时，跳转到新页面后刷新\n        if (from.path.indexOf(\"DataShow\") !== -1 && to.path.indexOf(\"DataShow\") === -1) {\n            console.log(\"跨域？太小儿科了\");\n            setTimeout(() => {\n                location.reload();\n            }, 200)\n        }\n    }\n});*/","map":{"version":3,"names":["Vue","App","router","ElementUI","request","store","BaiduMap","prototype","config","productionTip","use","ak","render","h","$mount","beforeEach","to","from","next","path","startsWith","window","scrollTo"],"sources":["D:/Soft/Java/repo/computer-design-contest-web/vue-project1/src/main.js"],"sourcesContent":["import Vue from 'vue'\nimport App from '@/App.vue'\nimport router from \"@/router\";\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport '@/assets/css/global.css'\nimport '@/assets/css/font_class.css'\nimport request from '@/utils/request'\nimport store from '@/store'\nimport '@/views/userViews/TourismIntroduction/js/mapUsePlugins.js'\nimport BaiduMap from 'vue-baidu-map'\n\nVue.prototype.request = request\n\nVue.config.productionTip = false\nVue.use(ElementUI)\n// Vue.use(ElementUI, {size: \"mini\"})\n\n//引入icon库\nimport '@/assets/icon/iconfont.css'\n\n\nVue.use(BaiduMap, {\n    // ak 是在百度地图开发者平台申请的密钥 详见 http://lbsyun.baidu.com/apiconsole/key */\n    ak: 'WFazjQE0iXFZR802XUZaYIu0Dp9yXl67'\n})\n\n\nVue.prototype.request = request\n\nVue.config.productionTip = false\nVue.use(ElementUI)\n\nnew Vue({\n    router,\n    store,\n    render: h => h(App)\n}).$mount('#app')\n\n// 保持页面在顶部\nrouter.beforeEach((to, from, next) => {\n    // 检查当前路由是否是文章页面\n    if (to.path.startsWith('/user/postPage/')) {\n        //滚动到顶部\n        window.scrollTo(0, 0);\n    }\n    next();\n});\n\n\n//先写页面\n/*router.beforeEach((to, from, next) => {\n    //登录注册放行\n    // console.log(to.path)\n    if (to.path.indexOf(\"Login\") !== -1 || to.path.indexOf(\"Register\") !== -1) {\n        //不再执行后面语句\n        return next()\n    }\n    //检查登录状态\n    const account = localStorage.getItem(\"accountData\") && localStorage.getItem(\"accountData\") != \"\" ? JSON.parse(localStorage.getItem(\"accountData\")) : null\n    //查看是否有token\n    if (!account || account.token == \"\") {\n        ElementUI.Message({\n            message: '请先登录',\n            type: 'error',\n        });\n        //如果account为null，跳转用户登录页面\n        if (!account) {\n            router.push(\"/userLogin\").then()\n        } else {\n            if (account.identity === \"admin\") {\n                router.push(\"/adminLogin\").then()\n            } else if (account.identity === \"user\") {\n                router.push(\"/userLogin\").then()\n            }\n        }\n    } else {\n        //已登录，放行\n        next();\n        //当从可视化到其他不是可视化的页面时，跳转到新页面后刷新\n        if (from.path.indexOf(\"DataShow\") !== -1 && to.path.indexOf(\"DataShow\") === -1) {\n            console.log(\"跨域？太小儿科了\");\n            setTimeout(() => {\n                location.reload();\n            }, 200)\n        }\n    }\n});*/\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,GAAG,MAAM,WAAW;AAC3B,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAO,sCAAsC;AAC7C,OAAO,yBAAyB;AAChC,OAAO,6BAA6B;AACpC,OAAOC,OAAO,MAAM,iBAAiB;AACrC,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAO,2DAA2D;AAClE,OAAOC,QAAQ,MAAM,eAAe;AAEpCN,GAAG,CAACO,SAAS,CAACH,OAAO,GAAGA,OAAO;AAE/BJ,GAAG,CAACQ,MAAM,CAACC,aAAa,GAAG,KAAK;AAChCT,GAAG,CAACU,GAAG,CAACP,SAAS,CAAC;AAClB;;AAEA;AACA,OAAO,4BAA4B;AAGnCH,GAAG,CAACU,GAAG,CAACJ,QAAQ,EAAE;EACd;EACAK,EAAE,EAAE;AACR,CAAC,CAAC;AAGFX,GAAG,CAACO,SAAS,CAACH,OAAO,GAAGA,OAAO;AAE/BJ,GAAG,CAACQ,MAAM,CAACC,aAAa,GAAG,KAAK;AAChCT,GAAG,CAACU,GAAG,CAACP,SAAS,CAAC;AAElB,IAAIH,GAAG,CAAC;EACJE,MAAM;EACNG,KAAK;EACLO,MAAM,EAAEC,CAAC,IAAIA,CAAC,CAACZ,GAAG;AACtB,CAAC,CAAC,CAACa,MAAM,CAAC,MAAM,CAAC;;AAEjB;AACAZ,MAAM,CAACa,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAClC;EACA,IAAIF,EAAE,CAACG,IAAI,CAACC,UAAU,CAAC,iBAAiB,CAAC,EAAE;IACvC;IACAC,MAAM,CAACC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;EACzB;EACAJ,IAAI,CAAC,CAAC;AACV,CAAC,CAAC;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}